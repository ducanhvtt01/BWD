<!DOCTYPE html>
<html lang="vi">
<head>

<meta charset="UTF-8">
<title>Đăng ký | ACE SKILLS</title>
<!-- SEO Meta Tags -->
<meta name="description" content="Đăng ký tài khoản ACE SKILLS để tham gia các khóa học, nhận tài nguyên kỹ năng mềm, kỹ năng sống miễn phí.">
<meta name="keywords" content="đăng ký, tạo tài khoản, ACE SKILLS, học online, kỹ năng mềm, kỹ năng sống">
<meta name="author" content="ACE SKILLS">
<!-- Open Graph / Facebook -->
<meta property="og:title" content="Đăng ký | ACE SKILLS">
<meta property="og:description" content="Đăng ký tài khoản ACE SKILLS để tham gia các khóa học, nhận tài nguyên kỹ năng mềm, kỹ năng sống miễn phí.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://spendwise.id.vn/register">
<meta property="og:image" content="https://spendwise.id.vn/image/image1.png">
<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Đăng ký | ACE SKILLS">
<meta name="twitter:description" content="Đăng ký tài khoản ACE SKILLS để tham gia các khóa học, nhận tài nguyên kỹ năng mềm, kỹ năng sống miễn phí.">
<meta name="twitter:image" content="https://spendwise.id.vn/image/image1.png">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="/css/variables.css">
<link rel="stylesheet" href="/css/reset.css">
<link rel="stylesheet" href="/css/hero.css">
<link rel="stylesheet" href="/css/section.css">
<link rel="stylesheet" href="/css/goal.css">
<link rel="stylesheet" href="/css/card.css">
<link rel="stylesheet" href="/css/button.css">
<link rel="stylesheet" href="/css/swiper.css">
<link rel="stylesheet" href="/css/footer.css">
<link rel="stylesheet" href="/css/form.css">
<link rel="stylesheet" href="/css/responsive.css">
<link rel="stylesheet" href="/css/header.css">
<link rel="stylesheet" href="/css/wow-theme-index.css">
<link rel="stylesheet" href="/css/skill-login.css">

<link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css"/>
<link rel="stylesheet" href="https://unpkg.com/swiper@9/swiper-bundle.min.css"/>
<script defer src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<script defer src="https://unpkg.com/swiper@9/swiper-bundle.min.js"></script>
<script defer src="/js/main.js"></script>

</head>
<body>

  <style>
    body { margin-top: 72px; }
    @media (max-width: 768px) { body { margin-top: 64px; } }
  </style>

<header>
  <nav class="container">
    <div class="logo text-gradient">ACE SKILLS</div>
    <button class="nav-toggle" aria-label="Mở menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    <div class="nav-links">
      <a href="/">Trang chủ</a>
      <a href="/skills">Kỹ năng</a>
      <a href="/courses">Khóa học</a>
      <a href="/children" data-no-transition>Trẻ em</a>
      <a href="/donate">Donate</a>
      <a href="/login" id="loginNav">Đăng nhập</a>
      <a href="/profile" id="profileNav" style="display: none;" class="profile-link">
        <span class="profile-name"></span>
        <img src="/image/default-avatar.png" alt="Avatar" class="profile-avatar">
      </a>
    </div>
  </nav>
</header>

    <h1 class="main-skill-title">ĐĂNG KÍ TÀI KHOẢN</h1>

<section class="section" data-aos="fade-up">
  <form class="container" id="registerForm">
    <label>Họ và tên</label>
    <input type="text" name="fullName" placeholder="Nhập họ tên..." required>
    <label>Email</label>
    <input type="email" name="email" placeholder="Nhập email..." required>
    <label>Mật khẩu</label>
    <input type="password" name="password" placeholder="Nhập mật khẩu..." required>
    <button type="submit" class="btn">Đăng ký</button>
  </form>
</section>


<footer>
  <div class="col">
    <h4>Liên hệ</h4>
    <a href="mailto:hello@softskill4all.org">hello@softskill4all.org</a>
    <a href="#">+84 123 456 789</a>
  </div>
  <div class="col">
    <h4>Mạng xã hội</h4>
    <a href="#">Facebook</a>
    <a href="#">YouTube</a>
  </div>
  <div class="col">
    <h4>Chương trình</h4>
    <a href="/skills">Kỹ năng</a>
    <a href="/courses">Khóa học</a>
  </div>
</footer>

<script>
// Kiểm tra đăng nhập
window.addEventListener('DOMContentLoaded', function() {
    const token = localStorage.getItem('token');
    const loginNav = document.getElementById('loginNav');
    const profileNav = document.getElementById('profileNav');

    if (token) {
        // Đã đăng nhập: ẩn Đăng nhập, hiện Profile
        if (loginNav) loginNav.style.display = 'none';
        if (profileNav) profileNav.style.display = '';
        // Chuyển về trang chủ nếu đã đăng nhập
        window.location.href = '/';
    }
});

// Xử lý form đăng ký
const registerForm = document.getElementById('registerForm');
if (registerForm) {
    registerForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        const fullName = registerForm.fullName.value;
        const email = registerForm.email.value;
        const password = registerForm.password.value;
        try {
            const response = await fetch('/api/auth/register', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ fullName, email, password })
            });
            const data = await response.json();
            if (response.ok) {
                localStorage.setItem('token', data.token);
                localStorage.setItem('user', JSON.stringify(data.user));
                showToast('Đăng ký thành công!');
                setTimeout(() => { window.location.href = '/'; }, 1200);
            } else {
                showToast(data.message || 'Đăng ký thất bại!');
            }
        } catch (error) {
            showToast('Có lỗi xảy ra, vui lòng thử lại!');
        }
    });
}
</script>

<script src="/js/register.js"></script>
<script src="/js/auth.js"></script>

<div id="toast" class="toast"></div>

</body>
</html>
